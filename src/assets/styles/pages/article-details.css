/**
 * ArticleDetails 页面专用样式
 * 完全独立，不依赖任何通用样式表
 * 此样式表仅用于ArticleDetails页面，不影响其他页面
 */

/* ========== 基础样式重置 ========== */
.article-details {
  /* 学术风格字体 - serif字体 */
  font-family: 'Georgia', 'Times New Roman', 'Times', serif;
  position: relative;
  overflow: visible;
  /* 强制白色背景，覆盖PageScaffold的背景 */
  background: white !important;
}

.dark .article-details {
  background: #1e293b !important;
}

/* 重置所有可能的全局样式影响 */
.article-details * {
  /* 移除页眉页脚 */
  page-break-inside: auto;
  orphans: 0;
  widows: 0;
}

.article-details h1,
.article-details h2,
.article-details h3,
.article-details h4,
.article-details h5,
.article-details h6 {
  /* 确保没有页眉显示 */
  page-break-after: avoid;
  page-break-inside: avoid;
}

/* ========== 容器样式 ========== */
.article-details .container {
  position: relative;
  overflow: visible;
}

.article-details .flex {
  position: relative;
  overflow: visible;
}

/* ========== Nature 风格分割线 ========== */
.article-details .nature-divider {
  border: 0;
  border-top: 1px solid #e5e7eb;
  margin: 2rem 0;
  width: 100%;
  display: block;
  height: 0;
  padding: 0;
  background: none;
}

.dark .article-details .nature-divider {
  border-top-color: #374151;
}

/* ========== 标题样式 - 学术风格 ========== */
.article-details h1 {
  font-family: 'Georgia', 'Times New Roman', 'Times', serif;
  font-size: 2.5rem;
  font-weight: 700;
  line-height: 1.2;
  color: #1a1a1a;
  margin-bottom: 1.5rem;
  letter-spacing: -0.01em;
}

.dark .article-details h1 {
  color: #ffffff;
}

.article-details h2 {
  font-family: 'Georgia', 'Times New Roman', 'Times', serif;
  font-size: 1.5rem;
  font-weight: 600;
  line-height: 1.3;
  margin-bottom: 1rem;
  margin-top: 0;
  color: #1a1a1a;
}

.dark .article-details h2 {
  color: #ffffff;
}

.article-details h3 {
  font-family: 'Georgia', 'Times New Roman', 'Times', serif;
  font-size: 1.25rem;
  font-weight: 600;
  line-height: 1.4;
  margin-bottom: 0.5rem;
  color: #1a1a1a;
}

.dark .article-details h3 {
  color: #ffffff;
}

.article-details h4,
.article-details h5,
.article-details h6 {
  font-family: 'Georgia', 'Times New Roman', 'Times', serif;
  font-weight: 600;
  color: #1a1a1a;
}

.dark .article-details h4,
.dark .article-details h5,
.dark .article-details h6 {
  color: #ffffff;
}

/* ========== Open Access 标签 - 保持原绿色 ========== */
.article-details .bg-green-100 {
  background-color: #dcfce7 !important;
}

.article-details .text-green-700 {
  color: #15803d !important;
}

.dark .article-details .dark\:bg-green-900\/30 {
  background-color: rgba(20, 83, 45, 0.3) !important;
}

.dark .article-details .dark\:text-green-400 {
  color: #4ade80 !important;
}

/* ========== 文字颜色 - 保持原样 ========== */
.article-details .text-slate-900 {
  color: #0f172a !important;
}

.article-details .text-slate-700 {
  color: #334155 !important;
}

.article-details .text-slate-600 {
  color: #475569 !important;
}

.article-details .text-slate-400 {
  color: #94a3b8 !important;
}

.dark .article-details .text-slate-900 {
  color: #ffffff !important;
}

.dark .article-details .text-slate-700 {
  color: #cbd5e1 !important;
}

.dark .article-details .text-slate-600 {
  color: #94a3b8 !important;
}

.dark .article-details .text-slate-400 {
  color: #64748b !important;
}

/* ========== 链接颜色 ========== */
.article-details .text-blue-600 {
  color: #2563eb !important;
}

.article-details .text-blue-400 {
  color: #60a5fa !important;
}

.dark .article-details .text-blue-600 {
  color: #3b82f6 !important;
}

.dark .article-details .text-blue-400 {
  color: #60a5fa !important;
}

/* ========== 通讯作者图标 ========== */
.article-details .corresponding-author-icon {
  color: #2563eb;
  margin-left: 2px;
}

.dark .article-details .corresponding-author-icon {
  color: #60a5fa;
}

/* ========== 作者弹窗样式 ========== */
/* Teleport 到 body，需要独立样式 */
.author-modal {
  position: fixed !important;
  background: white !important;
  border-radius: 0.5rem;
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
  width: 24rem;
  padding: 1rem;
  z-index: 9999;
}

.dark .author-modal {
  background: #1e293b !important;
}

/* 气泡箭头 */
.author-modal-arrow {
  position: absolute;
  top: -8px;
  left: 24px;
  width: 16px;
  height: 16px;
  background: white !important;
  transform: rotate(45deg);
  border-left: 1px solid #e5e7eb;
  border-top: 1px solid #e5e7eb;
}

.dark .author-modal-arrow {
  background: #1e293b !important;
  border-left-color: #374151;
  border-top-color: #374151;
}

/* 作者弹窗内部文字颜色 */
.author-modal h3 {
  color: #6b7280 !important;
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  margin-bottom: 0.5rem;
}

.dark .author-modal h3 {
  color: #9ca3af !important;
}

.author-modal h4 {
  color: #1f2937 !important;
  font-size: 1.25rem;
  font-weight: 700;
}

.dark .author-modal h4 {
  color: white !important;
}

.author-modal p,
.author-modal span {
  color: #374151 !important;
  font-size: 0.875rem;
}

.dark .author-modal p,
.dark .author-modal span {
  color: #d1d5db !important;
}

.author-modal a {
  color: #2563eb !important;
  font-size: 0.875rem;
}

.author-modal a:hover {
  text-decoration: underline;
}

.dark .author-modal a {
  color: #60a5fa !important;
}

.author-modal svg {
  color: #4b5563 !important;
}

.dark .author-modal svg {
  color: #9ca3af !important;
}

.author-modal button {
  border: 2px solid #2563eb;
  color: #2563eb;
  background: transparent;
  padding: 0.5rem 1rem;
  border-radius: 0.25rem;
  font-weight: 500;
  transition: all 0.2s;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  width: 100%;
}

.author-modal button:hover {
  background: #eff6ff;
}

.dark .author-modal button {
  border-color: #60a5fa;
  color: #60a5fa;
}

.dark .author-modal button:hover {
  background: rgba(96, 165, 250, 0.1);
}

.author-modal button svg {
  color: inherit !important;
}

/* 分隔线 */
.author-modal hr {
  border: 0;
  border-top: 1px solid #e5e7eb;
  margin: 1rem 0;
}

.dark .author-modal hr {
  border-top-color: #374151;
}

/* 关闭按钮 */
.author-modal > button[class*="absolute"] {
  color: #9ca3af;
}

.author-modal > button[class*="absolute"]:hover {
  color: #6b7280;
}

.dark .author-modal > button[class*="absolute"] {
  color: #9ca3af;
}

.dark .author-modal > button[class*="absolute"]:hover {
  color: #d1d5db;
}

/* ========== 右侧导航栏样式 ========== */
.article-details .sticky-section {
  position: sticky !important;
  will-change: transform;
  align-self: flex-start;
  top: calc(136px + 96px);
  margin-top: calc(400px - 136px - 96px);
}

/* 右侧悬挂卡片背景 */
.article-details .sticky-section > div {
  background: white !important;
  border-radius: 0.5rem;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  border: 1px solid #e5e7eb;
  padding: 1rem;
}

.dark .article-details .sticky-section > div {
  background: #1e293b !important;
  border-color: #374151;
}

.article-details .sticky-section h3 {
  color: #1f2937 !important;
  font-size: 0.875rem;
  font-weight: 700;
  margin-bottom: 0.75rem;
}

.dark .article-details .sticky-section h3 {
  color: white !important;
}

.article-details .sticky-section nav a {
  display: block;
  font-size: 0.875rem;
  color: #2563eb !important;
  padding: 0.25rem 0;
  white-space: nowrap;
}

.article-details .sticky-section nav a:hover {
  text-decoration: underline;
}

.dark .article-details .sticky-section nav a {
  color: #60a5fa !important;
}

.article-details > div.container {
  overflow: visible !important;
}

.article-details > div.container > div.flex {
  overflow: visible !important;
}

/* ========== 正文样式 - 学术风格 ========== */
.article-details p {
  font-family: 'Georgia', 'Times New Roman', 'Times', serif;
  font-size: 1rem;
  line-height: 1.7;
  color: #1a1a1a;
}

.dark .article-details p {
  color: #e5e7eb;
}

.article-details article {
  font-family: 'Georgia', 'Times New Roman', 'Times', serif;
}

.article-details section {
  font-family: 'Georgia', 'Times New Roman', 'Times', serif;
}

/* ========== 确保不受全局样式影响 ========== */
.article-details * {
  box-sizing: border-box;
}

.article-details input,
.article-details textarea,
.article-details select,
.article-details button {
  font-family: 'Georgia', 'Times New Roman', 'Times', serif;
}

/* 导航和链接保持可读性 */
.article-details nav,
.article-details a {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
}

/* ========== 移除可能的全局样式影响 ========== */
.article-details h1,
.article-details h2,
.article-details h3,
.article-details h4,
.article-details h5,
.article-details h6 {
  margin-top: 0;
  page-break-after: avoid;
}

/* 确保没有页眉页脚 */
.article-details h1::before,
.article-details h2::before,
.article-details h3::before,
.article-details h4::before,
.article-details h5::before,
.article-details h6::before {
  display: none !important;
  content: none !important;
}

.article-details h1::after,
.article-details h2::after,
.article-details h3::after,
.article-details h4::after,
.article-details h5::after,
.article-details h6::after {
  display: none !important;
  content: none !important;
}
